<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="SC.BL.Domain" namespace="SC.BL.Domain">
  
    <class name="Ticket" table="`Ticket`">
    
      <id name="TicketNumber">
        <generator class="native"/>
      </id>
      <discriminator column="Subclass" type="String"/>
    <property name="AccountId"/>
    <property name="Text"/>
    <property name="DateOpened" type="UtcDateTime"/>
    <property name="State" type="TicketState"/>
    
    <bag name="Responses" table="TicketResponse" cascade="save-update" inverse="true">
        <key column ="Ticket_id"/>
        <one-to-many class="TicketResponse"/>
    </bag>
      <subclass name="HardwareTicket" discriminator-value="HT">
        <property name="DeviceName"/>
      </subclass>
  </class>
</hibernate-mapping>